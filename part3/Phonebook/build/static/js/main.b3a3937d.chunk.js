(this.webpackJsonpworkbook=this.webpackJsonpworkbook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t(14),u=t.n(c),a=t(3),o=t(2),i=function(e){var n=e.persons,t=e.filter,c=e.handleDelete;return""!==t?n.filter((function(e){return e.Name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(r.jsxs)("p",{children:[e.Name," ",e.Num," ",Object(r.jsx)("button",{onClick:function(){return c(e.id)},children:"Delete"})]})})):n.map((function(e){return Object(r.jsxs)("p",{children:[e.Name," ",e.Num," ",Object(r.jsx)("button",{onClick:function(){return c(e.id)},children:"Delete"})]})}))},d=function(e){return Object(r.jsxs)("form",{onSubmit:e.submit,children:[Object(r.jsxs)("div",{children:["name: ",Object(r.jsx)("input",{value:e.name,onChange:e.textChange}),Object(r.jsx)("br",{}),"number: ",Object(r.jsx)("input",{value:e.number,onChange:e.numberChange})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",children:"add"})})]})},s=function(e){return Object(r.jsxs)("div",{children:["filter shown with ",Object(r.jsx)("input",{value:e.filter,onChange:e.handleFilterInput})]})},l=function(e){var n=e.alert;return 0==n.length?null:n.removed?Object(r.jsx)("p",{className:"removed",children:n.removed}):n.added?Object(r.jsx)("p",{className:"success",children:n.added}):n.response?Object(r.jsx)("p",{className:"error",children:n.response.data.error}):null},j=t(4),f=t.n(j),b="/api/persons",h={get:function(){return f.a.get(b).then((function(e){return e.data}))},add:function(e){return f.a.post(b,e).then((function(e){return e.data}))},del:function(e){return f.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},update:function(e,n){return f.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))}},m=(t(38),function(){var e=Object(o.useState)([]),n=Object(a.a)(e,2),t=n[0],c=n[1],u=Object(o.useState)(""),j=Object(a.a)(u,2),f=j[0],b=j[1],m=Object(o.useState)(""),O=Object(a.a)(m,2),p=O[0],x=O[1],v=Object(o.useState)(""),w=Object(a.a)(v,2),g=w[0],N=w[1],C=Object(o.useState)({}),k=Object(a.a)(C,2),y=k[0],D=k[1];Object(o.useEffect)((function(){return h.get().then((function(e){return c(e)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)(l,{alert:y}),Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(s,{filter:g,handleFilterInput:function(e){N(e.target.value)}}),Object(r.jsx)("h2",{children:"add a new"}),Object(r.jsx)(d,{name:f,number:p,numberChange:function(e){x(e.target.value)},textChange:function(e){b(e.target.value)},submit:function(e){e.preventDefault();var n=t.find((function(e){return e.name===f})),r={Name:f,Num:p};if(n){var u=t.find((function(e){return e.name===f}));if(window.confirm("".concat(f," is already added to phonebook, replace old number with new one?")))return h.update(u.id,r).then((function(e){return c(t.map((function(n){return n.id===u.id?e:n})))})).catch((function(e){return D(e)})),b(""),void x("")}""!==f?(h.add(r).then((function(e){c(t.concat(e)),D({added:"Added ".concat(e.name)})})).catch((function(e){return D(e)})),b(""),x("")):alert("Please enter your name!")}}),Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(i,{persons:t,filter:g,handleDelete:function(e){window.confirm("Do you sure want to delete?")&&h.del(e).then((function(n){var r=t.find((function(n){return n.id===e}));D({removed:"Information of ".concat(r.Name," is successfully removed")}),c(t.filter((function(e){return e.id!==r.id})))})).catch((function(e){return D(e)}))}})]})});u.a.render(Object(r.jsx)(m,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b3a3937d.chunk.js.map